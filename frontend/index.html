<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>FlowCredit | Revenue-Based Lending</title>
  <!-- Google Font Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- External styles & scripts (no inline) -->
  <link rel="stylesheet" href="style.css">
  <script src="app.js" defer></script>
</head>
<body>
  <!-- 1) Advanced animated background layer (handled by CSS) -->
  <div id="animatedBackground" aria-hidden="true"></div>

  <!-- 2) NAVBAR ‚Äì fixed, glass effect -->
  <header class="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <a href="/" aria-label="FlowCredit homepage">FlowCredit</a>
      </div>

      <!-- Desktop navigation (hidden on mobile) -->
      <nav class="nav-menu desktop-menu">
        <ul>
          <li><a href="#dashboard" data-section="dashboard" title="View your lending & borrowing overview">Dashboard</a></li>
          <li><a href="#borrow" data-section="borrow" title="Apply for revenue-based financing">Borrow</a></li>
          <li><a href="#lend" data-section="lend" title="Discover loans to fund">Lend</a></li>
          <li><a href="#analytics" data-section="analytics" title="Market trends & portfolio insights">Analytics</a></li>
          <li><a href="#docs" data-section="docs" title="Read documentation & API">Docs</a></li>
        </ul>
      </nav>

      <!-- Right side actions -->
      <div class="nav-actions">
        <button id="themeToggle" class="icon-btn" title="Switch between dark and light theme" aria-label="Toggle theme">üåì</button>
        <button id="settingsToggle" class="icon-btn" title="Open settings panel" aria-label="Settings">‚öôÔ∏è</button>
        <button id="connectWallet" class="btn-primary" title="Connect your Web3 wallet (e.g., MetaMask)">Connect Wallet</button>
        <!-- Hamburger (mobile only) -->
        <button id="mobileMenuToggle" class="hamburger" title="Open mobile menu" aria-label="Menu">‚ò∞</button>
      </div>
    </div>

    <!-- Slide-in mobile menu (hidden by default) -->
    <div id="mobileMenu" class="mobile-menu" aria-label="Mobile navigation">
      <div class="mobile-menu-header">
        <button id="closeMobileMenu" class="close-btn" title="Close menu" aria-label="Close">‚úï</button>
      </div>
      <ul>
        <li><a href="#dashboard" data-section="dashboard">Dashboard</a></li>
        <li><a href="#borrow" data-section="borrow">Borrow</a></li>
        <li><a href="#lend" data-section="lend">Lend</a></li>
        <li><a href="#analytics" data-section="analytics">Analytics</a></li>
        <li><a href="#docs" data-section="docs">Docs</a></li>
        <li class="mobile-connect"><button id="mobileConnectWallet" class="btn-primary" title="Connect wallet">Connect Wallet</button></li>
      </ul>
    </div>
  </header>

  <!-- MAIN CONTENT (with top padding to avoid fixed navbar overlap) -->
  <main id="mainContent">

    <!-- 3) HERO SECTION -->
    <section id="hero" class="hero-section reveal-container">
      <div class="container">
        <h1>Revenue-Based Lending Powered by Creditcoin</h1>
        <p class="subheadline">Unlock non-dilutive capital by sharing a percentage of future revenues ‚Äî transparent, fair, and on-chain.</p>
        <div class="hero-cta">
          <button id="launchApp" class="btn-primary btn-large" title="Launch the FlowCredit dApp and start borrowing or lending">Launch App</button>
          <button id="learnMore" class="btn-secondary btn-large" title="Read how revenue-based lending works">Learn More</button>
        </div>
      </div>
    </section>

    <!-- 4) PLATFORM OVERVIEW (3 cards) -->
    <section id="platform" class="platform-section">
      <div class="container">
        <h2 class="section-title">Built for sustainable growth</h2>
        <div class="card-grid">
          <article class="feature-card">
            <h3>Transparent Smart Escrow</h3>
            <p>Funds are held in audited escrow contracts. Revenue share payments are automatically verified and released.</p>
          </article>
          <article class="feature-card">
            <h3>Automated Revenue Distribution</h3>
            <p>Once revenue is reported, the smart contract splits payments between borrower and lender instantly.</p>
          </article>
          <article class="feature-card">
            <h3>On-Chain Trust & Security</h3>
            <p>Every loan is minted as a tradable asset. All terms are immutable and verifiable on Creditcoin.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- 5) STATS SECTION (4 placeholders) -->
    <section id="stats" class="stats-section">
      <div class="container">
        <div class="stats-grid">
          <div class="stat-card">
            <span class="stat-label">Total funded</span>
            <span class="stat-value" id="totalFunded">$18.4M</span>
          </div>
          <div class="stat-card">
            <span class="stat-label">Active loans</span>
            <span class="stat-value" id="activeLoans">142</span>
          </div>
          <div class="stat-card">
            <span class="stat-label">Total volume</span>
            <span class="stat-value" id="totalVolume">$27.2M</span>
          </div>
          <div class="stat-card">
            <span class="stat-label">Repayment rate</span>
            <span class="stat-value" id="repaymentRate">98.4%</span>
          </div>
        </div>
      </div>
    </section>

    <!-- 6) BORROWER DASHBOARD SECTION -->
    <section id="borrowSection" class="borrow-section">
      <div class="container">
        <h2>Borrower dashboard</h2>
        <p class="section-description">Create a loan proposal by specifying the revenue amount you need, the share you‚Äôre willing to pay, and the duration. Once funded, revenue distribution is automatic.</p>
        <div class="form-card">
          <form id="borrowForm" action="#" method="post">
            <div class="form-group">
              <label for="loanAmount">Revenue amount ($)</label>
              <input type="number" id="loanAmount" name="loanAmount" placeholder="e.g., 50000" step="1000" min="1000" required title="Enter the amount of revenue funding you need">
            </div>
            <div class="form-group">
              <label for="revenueShare">Revenue share %</label>
              <input type="number" id="revenueShare" name="revenueShare" placeholder="e.g., 5.0" step="0.1" min="1" max="30" required title="Percentage of monthly revenue you will share">
            </div>
            <div class="form-group">
              <label for="duration">Duration (months)</label>
              <input type="number" id="duration" name="duration" placeholder="e.g., 12" min="3" max="60" required title="Loan repayment period in months">
            </div>
            <button type="submit" id="createLoan" class="btn-primary" title="Submit your loan proposal to the marketplace">Create loan</button>
          </form>
          <p class="form-footnote">‚úì Contract interaction: loan terms are encoded and sent to the Creditcoin smart contract. Gas fees apply.</p>
        </div>
      </div>
    </section>

    <!-- 7) LENDER DASHBOARD SECTION -->
    <section id="lendSection" class="lend-section">
      <div class="container">
        <h2>Lender dashboard</h2>
        <p class="section-description">Browse active loan requests from vetted businesses. Diversify your portfolio and earn yield through revenue share payments.</p>
        <div id="loanContainer" class="loan-container">
          <!-- Dynamic loan cards will be injected by JS -->
          <div class="loan-placeholder">Loading available loans‚Ä¶</div>
        </div>
        <button id="refreshLoans" class="btn-secondary" title="Refresh the list of active loan requests">‚Üª Refresh loans</button>
      </div>
    </section>

    <!-- 8) ANALYTICS SECTION -->
    <section id="analytics" class="analytics-section">
      <div class="container">
        <h2>Analytics & performance</h2>
        <div id="analyticsChart" class="chart-placeholder" title="Interactive chart showing volume and APY trends">üìä [Chart placeholder] ‚Äî Historical lending volume & average revenue share</div>
        <p class="analytics-description">Track total value locked, average revenue share percentage, and historical repayment rates across all loans.</p>
      </div>
    </section>
  </main>

  <!-- 9) SETTINGS PANEL (hidden slide panel) -->
  <div id="settingsPanel" class="settings-panel" aria-label="Settings panel">
    <div class="settings-header">
      <h3>Settings</h3>
      <button id="closeSettings" class="close-btn" title="Close settings panel">‚úï</button>
    </div>
    <div class="settings-body">
      <button id="toggleAnimations" class="settings-option" title="Enable or disable UI animations">Toggle animations</button>
      <button id="toggleBackgroundEffects" class="settings-option" title="Turn advanced background on/off">Toggle background effects</button>
      <button id="resetPreferences" class="settings-option" title="Reset all UI preferences to default">Reset UI preferences</button>
    </div>
  </div>

  <!-- 10) FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <p>Built on Creditcoin Testnet ‚Äî Smart contracts secured with OpenZeppelin v5</p>
    </div>
  </footer>

  <!-- Additional hidden elements / close buttons for mobile menu are already inside mobileMenu -->
</body>
</html>