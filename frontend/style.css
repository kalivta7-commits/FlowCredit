/* ===== THEME TOKENS ===== */
:root {
  --bg-color: #ffffff;
  --text-color: #111111;
  --card-bg: #f5f5f5;
  --accent-color: #2563eb;
  --muted-text: #475569;
  --soft-text: #64748b;
  --nav-bg: rgba(255, 255, 255, 0.75);
  --panel-bg: #f8fafc;
  --input-bg: #ffffff;
  --border-soft: rgba(15, 23, 42, 0.12);
  --shadow-strong: rgba(15, 23, 42, 0.12);
}

[data-theme="dark"] {
  --bg-color: #0f172a;
  --text-color: #f8fafc;
  --card-bg: #1e293b;
  --accent-color: #3b82f6;
  --muted-text: #94a3b8;
  --soft-text: #64748b;
  --nav-bg: rgba(15, 23, 42, 0.78);
  --panel-bg: #111c32;
  --input-bg: #0f1a2d;
  --border-soft: rgba(148, 163, 184, 0.25);
  --shadow-strong: rgba(2, 6, 23, 0.45);
}

/* ===== RESET & BASE ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
  line-height: 1.5;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* animated background layer */
#animatedBackground {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  background: 
    linear-gradient(180deg, #070C18 0%, #0E1628 100%),
    radial-gradient(circle at 15% 20%, rgba(59,130,246,0.15), transparent 60%),
    radial-gradient(circle at 85% 80%, rgba(37,99,235,0.12), transparent 60%);
  background-size: 200% 200%;
  animation: energyFlow 35s linear infinite;
}

@keyframes energyFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* subtle vignette overlay */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  box-shadow: inset 0 0 200px rgba(0,0,0,0.55);
  z-index: -1;
}

/* ===== TYPOGRAPHY ===== */
h1, h2, h3 {
  font-weight: 600;
  letter-spacing: -0.02em;
}

a {
  text-decoration: none;
  color: inherit;
}

/* ===== CONTAINER ===== */
.container {
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 24px;
}


.card, .container, .box {
  background-color: var(--card-bg);
}

/* ===== NAVBAR ===== */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  background: var(--nav-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border-soft);
}

.nav-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 72px;
  padding: 0 24px;
  max-width: 1440px;
  margin: 0 auto;
}

/* LOGO — Flow normal, Credit gradient */
.nav-logo a {
  font-weight: 700;
  font-size: 1.3rem;
  letter-spacing: 0.3px;
  /* Flow color (normal) – set base color, then gradient only for second part */
  color: var(--text-color);
  background: linear-gradient(135deg, #3B82F6, #2563EB);
  -webkit-background-clip: text;
  background-clip: text;
  /* Trick: hide the base color where gradient shows, but we need both parts.
     Since we cannot split the text node, we apply gradient to the whole word.
     This results in "Flow" also being gradient. To comply exactly with spec,
     the HTML would need separate spans. Given the constraint, we choose to
     make the entire logo gradient. (The spec requested split, but that's not
     possible without changing markup.) */
  color: transparent;
}

/* Alternative: remove the transparent and keep base color? We'll keep gradient
   for entire logo to meet "Credit gradient" visually, but "Flow" also gets gradient.
   For strict split, modify HTML. */

/* Desktop navigation */
.desktop-menu ul {
  display: flex;
  list-style: none;
  gap: 32px;
}

.desktop-menu a {
  font-weight: 500;
  font-size: 0.95rem;
  color: var(--muted-text);
  transition: color 0.2s;
}

.desktop-menu a:hover {
  color: var(--text-color);
}

/* Nav actions */
.nav-actions {
  display: flex;
  align-items: center;
  gap: 16px;
}

.icon-btn {
  background: transparent;
  border: none;
  font-size: 1.4rem;
  cursor: pointer;
  color: var(--muted-text);
  transition: color 0.2s, transform 0.2s;
  line-height: 1;
  padding: 6px;
}

.icon-btn:hover {
  color: var(--text-color);
  transform: scale(1.05);
}

.btn-primary {
  background: linear-gradient(135deg, #3B82F6, #2563EB);
  border: none;
  border-radius: 12px;
  padding: 10px 20px;
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--text-color);
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(37,99,235,0.25);
  transition: transform 0.25s ease, box-shadow 0.25s;
  white-space: nowrap;
}

.btn-primary:hover {
  transform: translateY(-3px);
  box-shadow: 0 18px 30px rgba(37,99,235,0.35);
}

.btn-secondary {
  background: transparent;
  border: 1px solid var(--border-soft);
  border-radius: 12px;
  padding: 10px 20px;
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--text-color);
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
  white-space: nowrap;
}

.btn-secondary:hover {
  background: color-mix(in srgb, var(--card-bg) 80%, transparent);
  border-color: var(--border-soft);
}

.btn-large {
  padding: 14px 32px;
  font-size: 1.1rem;
}

.hamburger {
  display: none;
  background: transparent;
  border: none;
  font-size: 2rem;
  line-height: 1;
  color: var(--muted-text);
  cursor: pointer;
}

/* Mobile menu (slide-in) */
.mobile-menu {
  position: fixed;
  top: 0;
  right: -100%;
  width: 280px;
  height: 100vh;
  background: var(--card-bg);
  border-left: 1px solid var(--border-soft);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  z-index: 1001;
  transition: right 0.3s ease;
  padding: 24px;
}

.mobile-menu.open {
  right: 0;
}

.mobile-menu-header {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 32px;
}

.close-btn {
  background: transparent;
  border: none;
  font-size: 1.8rem;
  color: var(--muted-text);
  cursor: pointer;
}

.mobile-menu ul {
  list-style: none;
}

.mobile-menu li {
  margin-bottom: 24px;
}

.mobile-menu a {
  font-size: 1.2rem;
  font-weight: 500;
  color: var(--text-color);
}

.mobile-connect {
  margin-top: 32px;
}

/* ===== MAIN CONTENT ===== */
#mainContent {
  padding-top: 72px; /* navbar height */
}

/* ===== HERO SECTION ===== */
.hero-section {
  padding: 120px 0 80px;
  text-align: center;
}

.hero-section h1 {
  font-weight: 700;
  font-size: clamp(2.8rem, 5vw, 4rem);
  line-height: 1.1;
  letter-spacing: -1px;
  color: var(--text-color);
  max-width: 900px;
  margin: 0 auto;
}

.hero-section .subheadline {
  font-size: 1.2rem;
  color: var(--muted-text);
  max-width: 680px;
  margin: 20px auto 0;
}

.hero-cta {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin-top: 40px;
  flex-wrap: wrap;
}

/* ===== PLATFORM SECTION ===== */
.platform-section {
  padding: 100px 0;
}

.section-title {
  font-size: 2.2rem;
  text-align: center;
  margin-bottom: 60px;
  color: var(--text-color);
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 30px;
}

.feature-card {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s;
  background: var(--card-bg);
  border: 1px solid var(--border-soft);
  border-radius: 16px;
  padding: 28px;
  box-shadow: 0 20px 50px var(--shadow-strong);
}

.feature-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 30px 70px rgba(0,0,0,0.55);
}

.feature-card h3 {
  font-size: 1.4rem;
  margin-bottom: 12px;
  color: var(--text-color);
}

.feature-card p {
  color: var(--muted-text);
  line-height: 1.6;
}

/* ===== STATS SECTION ===== */
.stats-section {
  margin-top: 100px;
  padding: 60px 0 100px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 30px;
}

.stat-card {
  background: var(--panel-bg);
  border: 1px solid var(--border-soft);
  border-radius: 16px;
  padding: 30px 20px;
  text-align: center;
  box-shadow: 0 20px 50px var(--shadow-strong);
}

.stat-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 30px 70px rgba(0,0,0,0.5);
}

.stat-label {
  display: block;
  text-transform: uppercase;
  font-size: 0.8rem;
  letter-spacing: 1px;
  color: var(--muted-text);
  margin-bottom: 10px;
}

.stat-value {
  display: block;
  font-size: 2.8rem;
  font-weight: 700;
  color: var(--accent-color);
  line-height: 1.2;
}

/* ===== BORROW SECTION ===== */
.borrow-section {
  padding: 140px 20px;
}

.borrow-section .container {
  max-width: 1100px;
  margin: 0 auto;
}

.borrow-section h2 {
  text-align: center;
  font-size: 2.2rem;
  color: var(--text-color);
}

.borrow-section .section-description {
  text-align: center;
  max-width: 700px;
  margin: 10px auto 0;
  color: var(--muted-text);
}

.form-card {
  max-width: 650px;
  margin: 60px auto 0;
  background: var(--card-bg);
  border: 1px solid var(--border-soft);
  border-radius: 16px;
  padding: 35px;
  box-shadow: 0 25px 60px var(--shadow-strong);
}

.form-group {
  margin-bottom: 24px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: var(--muted-text);
}

.form-group input {
  width: 100%;
  background: var(--input-bg);
  border: 1px solid var(--border-soft);
  border-radius: 10px;
  padding: 14px 16px;
  font-size: 1rem;
  color: var(--text-color);
  transition: border-color 0.2s;
}

.form-group input:focus {
  outline: none;
  border-color: var(--accent-color);
}

#createLoan {
  width: 100%;
  padding: 14px;
  font-size: 1.1rem;
  margin-top: 10px;
}

.form-footnote {
  margin-top: 20px;
  font-size: 0.85rem;
  color: var(--soft-text);
  text-align: center;
}

/* ===== LEND SECTION ===== */
.lend-section {
  padding: 100px 0;
  background: color-mix(in srgb, var(--bg-color) 85%, transparent);
}

.lend-section h2 {
  text-align: center;
  font-size: 2.2rem;
  margin-bottom: 16px;
}

.lend-section .section-description {
  text-align: center;
  max-width: 700px;
  margin: 0 auto 50px;
  color: var(--muted-text);
}

.loan-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 30px;
  margin-bottom: 40px;
}

.loan-placeholder {
  grid-column: 1 / -1;
  text-align: center;
  padding: 60px;
  background: var(--card-bg);
  border-radius: 16px;
  color: var(--muted-text);
  border: 1px dashed var(--border-soft);
}

#refreshLoans {
  display: block;
  margin: 0 auto;
}

/* ===== ANALYTICS SECTION ===== */
.analytics-section {
  padding: 100px 0;
}

.analytics-section h2 {
  text-align: center;
  font-size: 2.2rem;
  margin-bottom: 40px;
}

.chart-placeholder {
  background: var(--card-bg);
  border-radius: 24px;
  padding: 100px 20px;
  text-align: center;
  border: 1px solid var(--border-soft);
  color: var(--muted-text);
  font-size: 1.2rem;
  margin-bottom: 30px;
  box-shadow: 0 20px 40px var(--shadow-strong);
}

.analytics-description {
  text-align: center;
  max-width: 700px;
  margin: 0 auto;
  color: var(--muted-text);
}

/* ===== SETTINGS PANEL ===== */
.settings-panel {
  position: fixed;
  top: 0;
  right: -400px;
  width: 320px;
  height: 100vh;
  background: var(--panel-bg);
  border-left: 1px solid var(--border-soft);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  z-index: 2000;
  transition: right 0.3s ease;
  padding: 24px;
  box-shadow: -10px 0 30px rgba(0,0,0,0.5);
}

.settings-panel.open {
  right: 0;
}

.settings-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
}

.settings-header h3 {
  font-size: 1.4rem;
  color: var(--text-color);
}

.settings-option {
  width: 100%;
  background: color-mix(in srgb, var(--card-bg) 80%, transparent);
  border: 1px solid var(--border-soft);
  border-radius: 12px;
  padding: 14px;
  margin-bottom: 12px;
  color: var(--text-color);
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
  text-align: left;
}

.settings-option:hover {
  background: rgba(255,255,255,0.1);
}

/* ===== FOOTER ===== */
.site-footer {
  padding: 40px 0;
  border-top: 1px solid var(--border-soft);
  text-align: center;
  color: var(--soft-text);
  font-size: 0.9rem;
}

.theme-toggle {
  background: transparent;
  border: none;
  font-size: 22px;
  cursor: pointer;
  transition: transform 0.4s ease;
  color: var(--text-color);
}

.theme-toggle.rotate {
  transform: rotate(180deg);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1024px) {
  .card-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .desktop-menu {
    display: none;
  }
  .hamburger {
    display: inline-block;
  }
  .card-grid {
    grid-template-columns: 1fr;
  }
  .stats-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  .hero-section h1 {
    font-size: 2.4rem;
  }
  .hero-cta {
    flex-direction: column;
    align-items: center;
  }
  .btn-large {
    width: 100%;
    max-width: 300px;
  }
  .borrow-section {
    padding: 80px 16px;
  }
  .form-card {
    padding: 24px;
  }
  .settings-panel {
    width: 280px;
  }
}

@media (max-width: 480px) {
  .nav-logo a {
    font-size: 1.1rem;
  }
  .icon-btn {
    font-size: 1.2rem;
  }
  #connectWallet {
    display: none; /* hide desktop connect on very small, mobile has its own */
  }
  .nav-actions {
    gap: 8px;
  }
}

/* ===== TOAST SYSTEM ===== */
#toastContainer {
  position: fixed;
  bottom: 24px;
  right: 24px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 9999;
  pointer-events: none;
}

.toast {
  padding: 12px 20px;
  border-radius: 12px;
  background: var(--card-bg);
  color: var(--text-color);
  border: 1px solid var(--border-soft);
  box-shadow: 0 10px 25px rgba(0,0,0,0.35);
  transform: translateX(100%);
  opacity: 0;
  pointer-events: auto;
}

.toast-show {
  animation: toastIn 0.3s ease forwards;
}

.toast-exit {
  animation: toastOut 0.3s ease forwards;
}

@keyframes toastIn {
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes toastOut {
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}